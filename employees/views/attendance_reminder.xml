<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="action_attendance_reminder" model="ir.cron">
        <field name="name">Send Attendance Reminder Email</field>
        <field name="model_id" ref="hr.model_hr_employee"/>
        <field name="state">code</field>
        <field name="code">model.send_daily_reminder()</field>  
        <field name="interval_number">1</field> 
        <field name="numbercall">-1</field>  
        <field name="doall" eval="False"/>  
        <field name="active" eval="True"/>
        <field name="nextcall" eval="(DateTime.now() + timedelta(hours=9)).strftime('%Y-%m-%d %H:%M:%S')"/>
    </record>

     <record id="email_template_attendance_reminder" model="mail.template">
        <field name="name">Attendance Reminder</field>
        <field name="email_from">${(object.user_id.email or 'noreply@example.com')}</field>
        <field name="subject">Reminder: Check Attendance for ${object.name}</field>
        <field name="model_id" ref="hr.model_hr_employee"/>


        <field name="body_html" type="html">
            <div>
                <div>
                    <h2>
                          Dear:     <t t-out="object.name"/>
                    </h2><h5>has not logged any attendance for the last 3</h5>
                     <h3>Employee Name: <t t-out="object.name"/></h3> 
                    <h3>  from  department: <t t-out="object.department_id.name"/>                            
                    </h3>
                    <div>
                        <h3>            

                            <p>We kindly ask you to review their attendance records and take any necessary action.

                                If you have any questions or need further assistance, feel free to reach out.

                                Thank you for your attention to this matter.</p>
                        </h3>
 
                    </div>
                </div>
                <br/>
                <br/>
                 <br/>
                <t t-out="object.company_id.name"/>
                <br/>
            </div>
        </field>
         <field name="auto_delete" eval="True"/>
    </record>

    
</odoo>
